# 남은 작업 (2026-02-03)

## ✅ 완료된 작업

### 백엔드 (100% 완료)
- ✅ Playwright 스크래핑 (HTML + GraphQL)
- ✅ Bull Queue + Redis (Upstash)
- ✅ Cloudinary 자동 업로드
- ✅ Cloudinary 중복 방지 로직
- ✅ OCR 비활성화 (속도 개선)
- ✅ Supabase 저장
- ✅ 헤드리스 모드
- ✅ 자동 종료 최적화
- ✅ API 엔드포인트

### 테스트
- ✅ "시원스쿨": 50개 광고 수집
- ✅ Cloudinary 업로드: 100%
- ✅ 중복 방지 작동 확인 (♻️ 로그)

---

## 🔄 진행해야 할 작업

### 1. Frontend 연동 테스트 ✅ **완료**

**목적**: UI에서 실제 스크래핑 작동 확인

**작업 내용**:
1. Frontend 서버 실행 (`npm start`)
2. 로그인 또는 개발 모드 접속
3. 키워드 입력하여 스크래핑 시작
4. 진행률 표시 확인
5. 완료 후 광고 목록 표시 확인

**확인 사항**:
- [x] Frontend → Backend API 연결
- [x] Bull Queue 작업 생성
- [x] 진행률 실시간 표시
- [x] 완료 후 광고 목록 로드
- [x] 이미지/동영상 표시
- [x] 페이지네이션 추가

**완료 날짜**: 2026-02-03
**실제 시간**: 1시간

---

### 2. Frontend UI 개선 (선택사항)

**현재 상태**: 기본 UI 구현됨

**개선 가능한 부분**:
- [ ] 진행률 바 디자인
- [ ] 광고 카드 레이아웃
- [ ] 필터링 기능
- [ ] 정렬 기능
- [ ] 페이지네이션

**예상 시간**: 2-3시간

---

### 3. OCR 배치 처리 (선택사항)

**목적**: 이미지에서 텍스트 추출

**방법**:
1. 별도 스크립트 생성 (`ocr-batch.js`)
2. cloudinary_public_id가 있고 ocr_text가 NULL인 이미지만 처리
3. Tesseract로 텍스트 추출
4. Supabase 업데이트

**장점**:
- 광고 텍스트 검색 가능
- 카피 분석 가능

**단점**:
- 처리 시간 오래 걸림 (이미지당 5-10초)
- Tesseract 정확도 제한

**예상 시간**: 1시간 (코드) + N시간 (실행)

---

### 4. 프로덕션 배포

**필요 작업**:

#### 4.1. 환경 변수 설정
- [ ] 프로덕션 Supabase 설정
- [ ] Cloudinary 설정 확인
- [ ] Redis (Upstash) 설정 확인
- [ ] `DISABLE_AUTH=false` 변경
- [ ] `NODE_ENV=production` 변경

#### 4.2. 서버 선택
**옵션**:
1. **Vercel** (권장 - Frontend)
   - Next.js 최적화
   - 무료 플랜
   - 자동 배포

2. **Railway** (권장 - Backend)
   - Node.js + Bull Queue 지원
   - Redis 통합
   - 무료 플랜 ($5 크레딧)

3. **Render**
   - 둘 다 가능
   - 무료 플랜

4. **AWS EC2**
   - 완전 제어
   - 비용 발생

#### 4.3. 배포 순서
1. Redis 확인 (Upstash 이미 클라우드)
2. Supabase 프로덕션 DB 설정
3. Backend 배포 (Railway)
4. Frontend 배포 (Vercel)
5. 환경 변수 설정
6. 도메인 연결 (선택)

**예상 시간**: 2-3시간

---

## 📋 권장 작업 순서

### Phase 1: 기본 기능 검증 (오늘)
1. ⭐ **Frontend 연동 테스트** (30분)
   - UI에서 스크래핑 작동 확인
   - 광고 목록 표시 확인

### Phase 2: 배포 준비 (내일)
2. **Frontend UI 개선** (선택, 2-3시간)
   - 사용성 향상

3. **프로덕션 배포** (2-3시간)
   - Railway + Vercel
   - 실제 사용 가능 상태

### Phase 3: 추가 기능 (나중에)
4. **OCR 배치 처리** (선택)
   - 텍스트 검색 기능

---

## 🎯 최우선 작업

**지금 바로 해야 할 것**:
```bash
# 1. Frontend 서버 실행
cd frontend
npm start

# 2. 브라우저에서 접속
http://localhost:3000

# 3. 키워드 입력하여 테스트
예: "나이키", "스타벅스" 등
```

**확인할 것**:
- 스크래핑 시작되는지
- 진행률 표시되는지
- 완료 후 광고 목록 나오는지
- 이미지/동영상 보이는지

---

## 💡 추가 아이디어 (장기)

### 기능 확장
- [ ] 구글 광고 스크래핑
- [ ] 네이버 광고 스크래핑
- [ ] 카카오 광고 스크래핑
- [ ] 광고 트렌드 분석 (AI)
- [ ] 카피 분석
- [ ] 엑셀 내보내기
- [ ] 팀 협업 기능

### 자동화
- [ ] Cron 스케줄링 (매일 자동 스크래핑)
- [ ] 이메일 알림
- [ ] Slack 연동

---

**작성**: 2026-02-03
**다음 작업**: Frontend 연동 테스트
